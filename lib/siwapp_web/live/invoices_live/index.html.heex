<nav class={"navbar is-fixed-bottom
             #{if Enum.empty?(@checked), do: "is-invisible"}"}
            role="navigation" aria-label="main navigation">
  <div class="navbar-menu">
    <div class="navbar-end">
      <div class="navbar-item buttons">
        <button class="button is-danger">Delete</button>
        <button class="button is-info">Send Email</button>
        <button class="button is-info">Set Paid</button>
        <button class="button is-info">Download PDF</button>
        <button class="button is-info">Duplicate</button>
      </div>
    </div>
  </div>
</nav>

<div class="mb-5">
  <div class="is-flex is-justify-content-space-between">
    <h1><%= @page_title %><span class="subtitle is-5"> (<%= length(@invoices) %> Found)</span></h1>
    <header class="card card-header is-clickable is-unselectable" phx-click="change-summary-state">
      <span class="card-header-title is-size-4">
        <%= SiwappWeb.PageView.set_currency(Invoices.Statistics.get_accumulated_amount(@invoices), nil) %>
      </span>
      <button class="card-header-icon" aria-label="more options">
        <span class="icon">
          <i class={"fas #{@summary_section.icon}"} aria-hidden="true"></i>
        </span>
      </button>
    </header>
  </div>

  <div id="summary-card" class={"card #{@summary_section.visibility}"}>
    <div class="card-content">
      <div class="content">
        <%= summary_chart(@invoices) %>
      </div>
    </div>
  </div>
</div>

<%= render(SiwappWeb.PageView, "invoices_table.html", invoices: @invoices, checked: @checked) %>

<div id="infinite-scroll" phx-hook="InfiniteScroll" data-page={@page}></div>
